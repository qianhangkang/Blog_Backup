---
title: 记阿里一次电话面试及感想
date: 2018-04-10 20:25:17
tags: 面试
---



今天大概下午五点的时候接到电话，自称是阿里的，问我现在方便吗。当时正吃完饭走在回实验室的路上，于是让他过半个小时再打给我，他说那我五点四十打你吧。紧张的跑回实验室，对着电脑却不知道该看什么，总觉的这也不了解，那也还没掌握，迷糊了半小时。



五点四十，电话准时响起。

<!--more-->



## 自我介绍

首先是这位老哥的自我介绍（为了最后的彩蛋做准备）



### 自我介绍

这里就照着之前准备的背了出来。基本上谈谈自己在学校学了什么，做过什么项目（接下来基本上会问到你的项目），以及日常体育运动。

----



## 项目

### 简单的介绍下你的项目

我大二做过一个工具上传下载管理系统的项目。我就简单的跟他介绍说类似网盘，支持断点续传，同时多了一些社交元素在里面，支持点赞、评论、求助等功能。



### 讲一讲如何实现断点上传（他问的断点下载，我说我们只实现了断点上传）

前端用了webuploader框架，每次上传分块之前都会将分块的md5传到服务器查询，如果上传过则忽略，没有则继续上传。全部分片上传完之后会通知服务器拼装分片。

面试官在这里反复提问了如何实现了断点续传，用了TCP还是UDP还是HTTP的方式。然后还让我重新讲了一遍上传的流程。问我服务器在这期间到底干了那几件事情。



###  组装的时候你是如何确定分片的顺序的

分片上传的时候会将分片的序号一同上传给服务器



### 你为什么要用hibernate框架

这里瞎扯了一些，主要是因为hibernate只在当时的竞赛用过，到现在都忘得差不多了。不过还是跟他说了hibernate有其独特的HQL，更加面向对象。

----



## Java基础

### Java的基本数据类型有哪些

char、byte、int、double、float、long、Boolean。我不小心还说了String，面试官马上提示了你，我赶紧说说错了，是char，不是String



### 你用过哪些Java的集合类，List和Set有什么区别

由于之前一直在研究HashMap的源码，于是就回答了在项目中只用HashMap（就是想暗示他问我关于hashmap的问题，结果问了List和Set有啥区别，一下子没想起来，面试官友善的提示了下。）

List是有序的Collection，允许重复元素；Set无序，不允许重复元素



### Java的值传递和引用传递能说一说嘛

在Java中是没有引用传递的，只有值传递。而值传递的意思是**传递存储单元中的内容**。

- 对于基本数据类型来说，每次传递的时候都会将存储单元中的内容传递进去作为参数，只不过这个参数在内存也分配了空间，他的内容就是传递过来的参数，所以不管你怎么修改这个参数，都与原先传递进来的参数无关了。
- 对于对象来说，对象的引用在栈内存中，实例对象的地址在堆内存中。每次传递参数的时候，JVM首先会在栈内存为方法的参数开辟一块空间，然后将对象引用所在的存储单元中的内容传递到这块空间中，而这块内容也就是引用的地址。因此，实际上传递的就是存储单元中的内容，属于值传递。





### 有用过多线程嘛，线程创建的方式有哪几种，能说说线程池吗

这里很老实的说没用过。。。

线程创建的方式有继承Thread类，实现Runnable接口或Callable接口或Future接口

线程池不会，贴个链接 [Java线程池](https://liuzho.github.io/2017/04/17/%E7%BA%BF%E7%A8%8B%E6%B1%A0%EF%BC%8C%E8%BF%99%E4%B8%80%E7%AF%87%E6%88%96%E8%AE%B8%E5%B0%B1%E5%A4%9F%E4%BA%86/)，准备单独学习下。



### stringbuilder和stringbuff有什么区别

这是倒数第二道问题，当时不知怎么回事实在想不起来，隐约记得与线程安全有关，但是之前答的不是很好加上紧张，就直接说想不起来了。还是基础太差惹的祸~谁给我的勇气投阿里...

stringbuilder不是线程安全的，stringbuff是线程安全的，用了synchronized关键字修饰。

----



## 数据库

### 你熟悉哪些数据库？MySQL有哪些基本的数据类型

这里我只回答了int、float、double、long（实际上没有，相对应的是bigint）、char、varchar、timestamp、datetime。

MySQL的基本数据类型：

- 数字类型
  - 整数: tinyint、smallint、mediumint、int、bigint
  - 浮点数: float、double、real、decimal
- 日期和时间: date、time、datetime、timestamp、year
- 字符串类型
  - 字符串: char、varchar
  - 文本: tinytext、text、mediumtext、longtext
- 二进制(可用来存储图片、音乐等): tinyblob、blob、mediumblob、longblob



### 那char和varchar的区别是什么？

（没答出来，忘了哎，之前还用的时候还特意去看过）

- char是定长的字符串，因此容易造成空间的浪费。char的最大长度为255个字符，查找效率比varchar高。
- varchar是可变字符串，节省空间。实际长度是value长度+1，这一个字节用于保存实际使用了多大的长度，效率低于char。

----



## 操作系统

### 计算机中除了硬盘之外还有哪些存储结构？

寄存器、cache、内存



### 哪个访问速度最快？

寄存器，速度与CPU相当，但空间较小，在KB级别

----



## 算法与数据结构

### 数据结构应该学过吧，你知道哪些数据结构？

我回答 栈、队列、二叉树



### 栈和队列有哪些区别？

栈是先进后出，队列是先进先出



### 能说下二叉平衡树是怎么实现平衡的？

这个真不知道，GG，老实跟他说不会。

照例先贴个链接 [平衡二叉树详解](https://blog.csdn.net/zhangvalue/article/details/76691562)，单独学习。



### 你了解过哪些算法？

我说我只了解过排序。。。



### 你能说说冒泡排序的原理吗

每次循环都将最大或最小的值移动到末尾（这里我可能没有表述的太清楚）

复制个网上的答案：

> **冒泡排序**（英语：**Bubble Sort**）是一种简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端。



### 那冒泡排序在最坏的情况下需要移动多少次

我回答了n(n-1)/2，其实这个是比较的次数，面试官友善的问我是否确定，疑惑了下还是说了确定 :(

事实上，答案是3n(n-1)/2，因为两个元素两两交换的时候你必须移动元素三次来达到交换的目的。如下，交换两个元素有4种方法：

1. 通过临时变量保存

2. a=a+b;

   b=a-b;

   a=a-b;

   **不会发生溢出**，即使造成的溢出会在后边的减运算中被溢出回来。

3. a=a*b;

   b=a/b;

   a=a/b;

   类似第二种方法，但是溢出后无法交换，并且限制了b!=0

4. a=a^b;

   b=b^a;

   a=b^a;

   效率最高的一种方法




### 那么最少呢？

0次。（面试官自己还带着恍然大悟的感觉重复了一遍...）



### 让你实现一个函数，从1+...+n，你怎么实现？

想了半天还是跟他说n*(n+1)/2，感觉没有get到他的考点。于是问我为什么能够用这个公式，我说不知道。他说不就是等差数列求和么。我恍然大悟。

Google了下，感觉这道题目是为了考你的思维，让你给出多种解决方案

1. 循环

2. n*(n+1)/2

3. 递归

   ```java
       public static int add(int n) {
           if (n == 1) {
               return 1;
           }
           return n + add(n-1);
       }
   ```

4. 不用加减乘除的做法

   ```java
   	public static int add(int n) {
       	return n > 0 ? (n == 1 ? 1 : (n += add(n - 1))) : -1;
       }

   //等同于下面这种写法
       public static int add(int n) {
           if (n > 0) {
               if (n == 1) return 1;
               else return n += add3(n-1);
           }else return -1;
       }
   ```

   ----




   ## JVM与GC

   ### 说一说JVM内存模型

栈、堆、方法区、本地方法区、程序计数器



   ### 能说一说OOM吗

这里我只回答了除了程序计数器之外，其他区都会发生OOM。其他就不知道了，他也没继续问。。。



### 垃圾回收你知道哪几种算法

标记清除、复制算法、标记整理



### 标记清除算法能说说么

分为标记和清除，首先标记出需要回收的对象，然后在标记完成后统一回收被标记的对象。但是他会出现空间问题，内存中会出现大量大不连续的空间，不利于大对象的分配。这里我将效率问题弄反了，记成了效率最高。实际上标记清除算法效率不高。



### 那现在标记清楚算法还用吗？

我肯定的回答他还用。

事后翻阅相关书籍觉得我在这里回答的太笼统随意了，因为目前来说只有CMS垃圾收集器用了这个算法，对于其他的垃圾收集器，老年代用的都是标记-整理算法。

----



## 还记的我的名字么

这个问题问我的时候我也是懵了，脑袋一片空白，怎能记起四十多分钟前暗藏在他自我介绍中的名字，想了想最后还是不好意思的说不知道，面试官自己也笑了笑说没事，并重复了一遍，“我的名字叫刘nan”~说实话，阿里的面试官挺幽默的，也让我对他的名字记忆犹新，不知道以后有没有机会进阿里，如果有一定请他吃个饭哈哈~

----



## 感想

谈谈自己的感想。

- 先谈阿里。首先，作为一个二本的菜鸟，本来对收到阿里的面试并没有期待（道理你懂的），但是阿里还是给了机会，从这点看，我就觉得阿里挺有包容度的，或许这也是阿里能成为如此优秀的企业有关。
- 阿里的面试官。仅从声音上分辨，感觉是一个三十出头的小哥，声音很有底气。在面试上，一些你回答的错误，他也会友善地纠正，有时也会友情的提示你，对于技术上的问题，会问到你不会为止。最后，他真的挺幽默、有套路的哈哈，“最后一个问题：还记得我名字”~~~
- 最后谈自己。首先，对于一个面试，心态没有很好的放平，虽然总暗示自己这只是一场面试，是一次学习的机会，但面试的时候还是很紧张，导致一些问题即使平常看到过，有印象，但就是答不出来。其次，还是基础不够扎实，对于一个Java开发工程师来说，最基本的Java基础没有掌握牢。对于JVM，GC，尽管之前看了两遍，自认为能够侃侃而谈，但实际上还却只是一知半解。一些基础的算法，即使学习的时候已经理解，但是还是要学会复习，并且需要学会去把控一些算法的细节，如时间、空间复杂度，移动、比较的次数等。

So，Keep Going~



> 大部分正义感都是虚伪的 聊胜于无   —————————————沃德彭尤·胡某

